---
/// A Client-side redirect for static hosting

import i18next from 'i18next'
import HomePage from '@/components/HomePage.astro'
import { t } from '@/i18n/ui'
import HomeLayout from '@/layouts/HomeLayout.astro'

const locale = 'en'
i18next.changeLanguage(locale)
---

<HomeLayout title={t('home.title')}>
  <script>
 const userLang = navigator.language
 const locale = userLang.startsWith('zh') ? 'zh' : 'en'
 if (locale === 'zh') {
   window.location.href = '/zh'
 }
 else {
   history.pushState(null, '', '/en')
 }
 </script>
  <HomePage />
</HomeLayout>
