---
id: caddy
title: 更簡單的自建 Reverse Proxy - Caddy
description: 在前文中，我曾提及我曾提及通過 SWAG 自建域名反向代理服務器。不過，我發現 Caddy 配置更簡單直接，適合我的使用場景。
aliases: []
tags: []
created: 2026-01-27
updated: 2026-01-27
published: true
---

在 [[251012-vps.md|我的 VPS 服務器]] 一文中，我曾提及通過
[SWAG](https://docs.linuxserver.io/general/swag/) 自建域名反向代理服務器
（Reverse Proxy Server）。SWAG 是一款基於 Nginx 的反向代理解決方案。

然而，在實際使用過程中，我發現 SWAG 的一些問題：

1. 配置較為複雜，需要設置較多的參數，並且需要一定的 Nginx 語法知識；
1. 配置文件與運行文件混雜在一起，不易於維護；（尤其是不清楚哪些文件需要 Persist，哪些要重新生成）
1. 整合度較低，使用 s6-overlay 管理進程和服務，增加了學習成本。
1. 文檔較為零散，不易於查找所需信息。

SWAG 雖然功能強大，但對於只需要簡單反向代理功能的我來說，就顯得有點太過繁瑣了。

在尋找替代方案時，我發現了 [Caddy](https://caddyserver.com/) 這款
反向代理服務器。他的配置十分簡單直接，以我的 wakapi 服務為例：

```yaml title=compose.yml
services:
  caddy:
    image: caddy:2.10-alpine
    restart: unless-stopped
    ports:
      - '80:80'
      - '443:443'
      - '443:443/udp'
    volumes:
      - ./caddy:/etc/caddy
      - ./static:/srv
      - caddy_data:/data
      - caddy_config:/config

  wakapi:
    image: ghcr.io/muety/wakapi:latest
    restart: unless-stopped
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
      - WAKAPI_PASSWORD_SALT=${WAKAPI_PASSWORD_SALT}
    volumes:
      - wakapi_data:/data

volumes:
  caddy_data:
  caddy_config:
  wakapi_data:
```

```Caddyfile title=caddy/Caddyfile
inogai.com {
  redir https://www.{host}{uri}
}

wakapi.inogai.com {
  reverse_proxy wakapi:3000
}
```

```bash title=.env
PUID=1000
PGID=1000
TZ=Etc/UTC

WAKAPI_PASSWORD_SALT=your_salt_here
```

關於 docker compose 的配置，在前文中已經詳細解釋過了，這裏不在贅述。通過非常簡單
的配置，Caddy 為我們部署了一個易用的反向代理，適合個人網站博客使用。

## 參考鏈接

- 我的配置：<https://github.com/inogai/_server_caddy>
- 官方文檔：<https://caddyserver.com/docs/install>
- SWAG 官方文檔：<https://docs.linuxserver.io/general/swag/>
